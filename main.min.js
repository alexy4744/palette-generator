/*! palette-generator 2019-03-03 */

"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}for(var MAX_PICKERS=10,SPACING=75,SPECTRUM_OPTIONS={showInitial:!0,showInput:!0},totalPickers=5,i=0;i<totalPickers;i++)createRow(),createPicker(i);function createPicker(r){var e=$("<input class='color-picker'/>"),t=$(".swatches-row").filter(function(e,t){return $(t).data("row")===r+1});if(t.length)return e.appendTo(t).spectrum(_objectSpread({color:generateRandomRGB()},SPECTRUM_OPTIONS)).on("change.spectrum",renderSwatches),$("<hr>").appendTo(t),e}function addNewPicker(){createRow(),createPicker(totalPickers),recalculateRowWidth(),renderSwatches(),totalPickers++}function createRow(){var e=$(".swatches-row").length;if(MAX_PICKERS<=e)return null;var t=$("<div class='swatches-row'/>");return t.data("row",e+1).appendTo(".swatches"),recalculateRowWidth(),t}function createSwatch(e,t){return $("<div class='swatch' title='Copy!'/>").css("background",t).click(function(){var e=$("<input/>").appendTo("body").val(rgbToHex.apply(void 0,_toConsumableArray(sanitizeRGB(t)))).select();document.execCommand("copy"),e.remove()}).appendTo(e)}function renderSwatches(){var e=$(".swatches-row").filter(function(e,t){return $(t).data("row")}),n=chooseBiggerValue($("input[name='shade-difference-range']").val(),$("input[name='shade-difference-number']").val()),a=chooseBiggerValue($("input[name='cutoff-range']").val(),$("input[name='cutoff-number']").val());e.children().filter(function(e,t){return $(t).hasClass("swatch")}).each(function(e,t){return $(t).remove()}),e.each(function(e,t){for(var r=0;r<a;r++)createSwatch(t,colorModifier(rgbToHex.apply(void 0,_toConsumableArray(sanitizeRGB($(t).find(".sp-preview-inner").css("background-color")))),r*n))})}function recalculateRowWidth(){$(".swatches-row").each(function(e,t){return $(t).css("width","calc(".concat(SPACING,"% / ").concat(totalPickers,")"))})}function listenInputs(){$(document.getElementsByTagName("input")).each(function(e,t){t.oninput=function(){"range"===this.type?$("input[name = "+t.className+"-number]").val(this.value):$("input[name = "+t.className+"-range]").val(this.value),renderSwatches()}})}function listenButtons(){$(".new-picker").click(function(){addNewPicker(),recalculateRowWidth()}),$(".random-colors").click(setRandomPalette)}function setRandomPalette(){$(".color-picker").each(function(e,t){$(t).spectrum(_objectSpread({color:generateRandomRGB()},SPECTRUM_OPTIONS))}),renderSwatches()}function colorModifier(e,t){var r=hexToRGB(e);if(!r)return"#000";var n={r:0,g:0,b:0};for(var a in r)n[a]=r[a]- -t;return"rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,")")}function hexToRGB(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function rgbToHex(e,t,r){return"#"+(16777216+(r|t<<8|e<<16)).toString(16).slice(1)}function generateRandomRGB(){return"rgb(\n    ".concat(Math.floor(255*Math.random()),",\n    ").concat(Math.floor(255*Math.random()),",\n    ").concat(Math.floor(255*Math.random()),"\n  )").replace(/\s/g,"")}function sanitizeRGB(e){return e.split(",").map(function(e){return e.replace(/\D+/g,"")})}function chooseBiggerValue(e,t){return t<e?e:t}renderSwatches(),listenInputs(),listenButtons();